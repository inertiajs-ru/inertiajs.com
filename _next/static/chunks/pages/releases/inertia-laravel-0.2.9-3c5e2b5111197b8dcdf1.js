_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[87],{BBpi:function(e,a,r){"use strict";r.r(a),r.d(a,"meta",(function(){return c})),r.d(a,"default",(function(){return u}));var t=r("wx14"),n=r("Ff2n"),i=r("q1tI"),o=r.n(i),l=r("7ljp"),s=r("5Yp1"),c=(r("qKvR"),o.a.createElement,{title:"inertia-laravel@v0.2.9"}),b={meta:c},p=s.b;function u(e){var a=e.components,r=Object(n.a)(e,["components"]);return Object(l.b)(p,Object(t.a)({},b,r,{components:a,mdxType:"MDXLayout"}),Object(l.b)("h1",null,"inertia-laravel@v0.2.9"),Object(l.b)("div",{className:"-mt-8 mb-12 text-base font-medium text-gray-600"},"Published on September 5, 2020"),Object(l.b)("p",null,"Inertia.js now automatically shares validation errors (",Object(l.b)("a",Object(t.a)({parentName:"p"},{href:"https://github.com/inertiajs/inertia-laravel/pull/135"}),"#135"),") via the ",Object(l.b)("inlineCode",{parentName:"p"},"errors")," prop."),Object(l.b)("p",null,"Previously you had to manually share these in your app service provider, like this:"),Object(l.b)("pre",null,Object(l.b)("code",Object(t.a)({parentName:"pre"},{className:"language-php"}),"Inertia::share([\n    'errors' => function () {\n        return Session::get('errors')\n            ? Session::get('errors')->getBag('default')->getMessages()\n            : (object) [];\n    },\n]);\n")),Object(l.b)("p",null,"However, unlike the above implementation, the automatically shared errors are flattened to one error per field:"),Object(l.b)("pre",null,Object(l.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"errors: {\n  name: 'The name field is required.',\n  email: 'The email field is required.',\n}\n")),Object(l.b)("p",null,"This is done to prevent having to always pick the first error from an array (",Object(l.b)("inlineCode",{parentName:"p"},"errors.name[0]"),"). We decided to do it this way based on feedback from the community ",Object(l.b)("a",Object(t.a)({parentName:"p"},{href:"https://twitter.com/reinink/status/1300516500105842689"}),"via Twitter"),"."),Object(l.b)("p",null,"This is a non-breaking change, meaning if you prefer the old behaviour (multiple errors per field), you can continue manually sharing the validation errors in your app service provider. Inertia.js will only automatically share the errors if the ",Object(l.b)("inlineCode",{parentName:"p"},"errors")," key is not already registered."),Object(l.b)("p",null,"This update also supports named error bags, which are automatically scoped using the error bag name. For example:"),Object(l.b)("pre",null,Object(l.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"errors: {\n  createUser: {\n    name: 'The name field is required.',\n    email: 'The email field is required.',\n  }\n}\n")),Object(l.b)("p",null,"Named error bags are useful when you have multiple forms on the same page, and need a way to differentiate between the errors for one form and another. Also, coming is Laravel 8 is the ability to define error bags client-side (",Object(l.b)("a",Object(t.a)({parentName:"p"},{href:"https://github.com/laravel/framework/commit/3624a82ea5e36dbad1645975e558dfd8c063d730"}),"https://github.com/laravel/framework/commit/3624a82ea5e36dbad1645975e558dfd8c063d730"),"), instead of having to do this in your controllers. Here's an example of how you could use this:"),Object(l.b)("pre",null,Object(l.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"this.$inertia.post('/users', {\n  ...this.form,\n  _error_bag: 'CreateUser',\n})\n")),Object(l.b)("p",null,"By providing the ",Object(l.b)("inlineCode",{parentName:"p"},"_error_bag")," value here, Laravel and Inertia.js will automatically scope the validation errors to the ",Object(l.b)("inlineCode",{parentName:"p"},"CreateUser")," key."))}u.isMDXComponent=!0},CpGG:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/releases/inertia-laravel-0.2.9",function(){return r("BBpi")}])}},[["CpGG",0,2,5,1,3,4]]]);