_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{"59oN":function(e,n,r){"use strict";var t=r("q1tI"),o=r.n(t),a=r("qKvR");o.a.createElement;n.a=function(e){var n=e.children;return Object(a.a)("div",{className:"my-8 px-6 py-4 text-orange-900 text-base leading-normal bg-orange-200 rounded-r border-l-4 border-orange-400",children:n})}},GiJq:function(e,n,r){"use strict";r.r(n),r.d(n,"meta",(function(){return y})),r.d(n,"default",(function(){return x}));var t=r("h4VS"),o=r("wx14"),a=r("Ff2n"),i=r("q1tI"),s=r.n(i),u=r("7ljp"),c=r("B+lO"),d=r.n(c),l=r("5Yp1"),p=r("59oN"),b=r("SrvX");r("qKvR"),s.a.createElement;function h(){var e=Object(t.a)(["\n        <script>\n          export let status\n\n          $: title = {\n            503: '503: Service Unavailable',\n            500: '500: Server Error',\n            404: '404: Page Not Found',\n            403: '403: Forbidden',\n          }[status]\n\n          $: description = {\n            503: 'Sorry, we are doing some maintenance. Please check back soon.',\n            500: 'Whoops, something went wrong on our servers.',\n            404: 'Sorry, the page you are looking for could not be found.',\n            403: 'Sorry, you are forbidden from accessing this page.',\n          }[status]\n        <\/script>\n\n        <div>\n          <h1>{title}</h1>\n          <div>{description}</div>\n        </div>\n      "],["\n        <script>\n          export let status\\n\n          $: title = {\n            503: '503: Service Unavailable',\n            500: '500: Server Error',\n            404: '404: Page Not Found',\n            403: '403: Forbidden',\n          }[status]\\n\n          $: description = {\n            503: 'Sorry, we are doing some maintenance. Please check back soon.',\n            500: 'Whoops, something went wrong on our servers.',\n            404: 'Sorry, the page you are looking for could not be found.',\n            403: 'Sorry, you are forbidden from accessing this page.',\n          }[status]\n        <\/script>\\n\n        <div>\n          <h1>{title}</h1>\n          <div>{description}</div>\n        </div>\n      "]);return h=function(){return e},e}function g(){var e=Object(t.a)(["\n        import React from 'react'\n\n        export default function ErrorPage({ status }) {\n          const title = {\n            503: '503: Service Unavailable',\n            500: '500: Server Error',\n            404: '404: Page Not Found',\n            403: '403: Forbidden',\n          }[status]\n\n          const description = {\n            503: 'Sorry, we are doing some maintenance. Please check back soon.',\n            500: 'Whoops, something went wrong on our servers.',\n            404: 'Sorry, the page you are looking for could not be found.',\n            403: 'Sorry, you are forbidden from accessing this page.',\n          }[status]\n\n          return (\n            <div>\n              <h1>{title}</h1>\n              <div>{description}</div>\n            </div>\n          )\n        }\n      "],["\n        import React from 'react'\\n\n        export default function ErrorPage({ status }) {\n          const title = {\n            503: '503: Service Unavailable',\n            500: '500: Server Error',\n            404: '404: Page Not Found',\n            403: '403: Forbidden',\n          }[status]\\n\n          const description = {\n            503: 'Sorry, we are doing some maintenance. Please check back soon.',\n            500: 'Whoops, something went wrong on our servers.',\n            404: 'Sorry, the page you are looking for could not be found.',\n            403: 'Sorry, you are forbidden from accessing this page.',\n          }[status]\\n\n          return (\n            <div>\n              <h1>{title}</h1>\n              <div>{description}</div>\n            </div>\n          )\n        }\n      "]);return g=function(){return e},e}function m(){var e=Object(t.a)(["\n        <template>\n          <div>\n            <h1>{{ title }}</h1>\n            <div>{{ description }}</div>\n          </div>\n        </template>\n\n        <script>\n        export default {\n          props: {\n            status: Number,\n          },\n          computed: {\n            title() {\n              return {\n                503: '503: Service Unavailable',\n                500: '500: Server Error',\n                404: '404: Page Not Found',\n                403: '403: Forbidden',\n              }[this.status]\n            },\n            description() {\n              return {\n                503: 'Sorry, we are doing some maintenance. Please check back soon.',\n                500: 'Whoops, something went wrong on our servers.',\n                404: 'Sorry, the page you are looking for could not be found.',\n                403: 'Sorry, you are forbidden from accessing this page.',\n              }[this.status]\n            },\n          },\n        }\n        <\/script>\n      "],["\n        <template>\n          <div>\n            <h1>{{ title }}</h1>\n            <div>{{ description }}</div>\n          </div>\n        </template>\\n\n        <script>\n        export default {\n          props: {\n            status: Number,\n          },\n          computed: {\n            title() {\n              return {\n                503: '503: Service Unavailable',\n                500: '500: Server Error',\n                404: '404: Page Not Found',\n                403: '403: Forbidden',\n              }[this.status]\n            },\n            description() {\n              return {\n                503: 'Sorry, we are doing some maintenance. Please check back soon.',\n                500: 'Whoops, something went wrong on our servers.',\n                404: 'Sorry, the page you are looking for could not be found.',\n                403: 'Sorry, you are forbidden from accessing this page.',\n              }[this.status]\n            },\n          },\n        }\n        <\/script>\n      "]);return m=function(){return e},e}function v(){var e=Object(t.a)(["\n        # todo\n      "]);return v=function(){return e},e}function f(){var e=Object(t.a)(["\n        use Throwable;\n        use Inertia\\Inertia;\n\n        /**\n         * Prepare exception for rendering.\n         *\n         * @param  \\Throwable  $e\n         * @return \\Throwable\n         */\n        public function render($request, Throwable $e)\n        {\n            $response = parent::render($request, $e);\n\n            if (!app()->environment('local') && in_array($response->status(), [500, 503, 404, 403])) {\n                return Inertia::render('Error', ['status' => $response->status()])\n                    ->toResponse($request)\n                    ->setStatusCode($response->status());\n            } else if ($response->status() === 419) {\n                return back()->with([\n                    'message' => 'The page expired, please try again.',\n                ]);\n            }\n\n            return $response;\n        }\n      "],["\n        use Throwable;\n        use Inertia\\\\Inertia;\\n\n        /**\n         * Prepare exception for rendering.\n         *\n         * @param  \\\\Throwable  $e\n         * @return \\\\Throwable\n         */\n        public function render($request, Throwable $e)\n        {\n            $response = parent::render($request, $e);\\n\n            if (!app()->environment('local') && in_array($response->status(), [500, 503, 404, 403])) {\n                return Inertia::render('Error', ['status' => $response->status()])\n                    ->toResponse($request)\n                    ->setStatusCode($response->status());\n            } else if ($response->status() === 419) {\n                return back()->with([\n                    'message' => 'The page expired, please try again.',\n                ]);\n            }\\n\n            return $response;\n        }\n      "]);return f=function(){return e},e}var y={title:"Error handling",links:[{url:"#development",name:"Development"},{url:"#production",name:"Production"}]},w={meta:y},S=l.b;function x(e){var n=e.components,r=Object(a.a)(e,["components"]);return Object(u.b)(S,Object(o.a)({},w,r,{components:n,mdxType:"MDXLayout"}),Object(u.b)("h1",null,"Error handling"),Object(u.b)("h2",null,"Development"),Object(u.b)("p",null,"One of the nice things about working with a server-side framework is the built-in exception handling you get for free. For example, Laravel ships with ",Object(u.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/facade/ignition"}),"Ignition"),", a beautiful error reporting tool which displays a nicely formatted stack trace in local development."),Object(u.b)("p",null,"The challenge is, if you're making an XHR request (which Inertia does), and you hit a server-side error, you're typically left digging through the network tab in your browser's devtools."),Object(u.b)("p",null,"Inertia solves this by showing all non-Inertia responses in a modal. Meaning you get the same beautiful error-reporting, even though you've made that request over XHR!"),Object(u.b)("div",{className:"my-6 relative rounded overflow-hidden bg-gray-500",style:{paddingTop:"80.5%"}},Object(u.b)("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center text-sm"},"Loading\u2026"),Object(u.b)("iframe",{className:"absolute inset-0 w-full h-full",src:"https://player.vimeo.com/video/363562630?autoplay=1&loop=1&muted=1&background=1"})),Object(u.b)(p.a,{mdxType:"Notice"},"Note, the modal behaviour is only intended for development purposes."),Object(u.b)("h2",null,"Production"),Object(u.b)("p",null,"In production you'll want to return a proper Inertia error response instead of relying on the modal behaviour. To do this you'll need to update your framework's default exception handler to return a custom error page."),Object(u.b)(b.a,{examples:[{name:"Laravel",language:"php",description:"Extend the render() method in your App\\Exceptions\\Handler.php.",code:d()(f())},{name:"Rails",language:"ruby",code:d()(v())}],mdxType:"TabbedCodeExamples"}),Object(u.b)("p",null,"Notice how we're returning an ",Object(u.b)("inlineCode",{parentName:"p"},"Error")," page component in the example above. You'll need to actually create this. Here's an example error page component you can use as a starting point."),Object(u.b)(b.a,{examples:[{name:"Vue.js",language:"twig",code:d()(m())},{name:"React",language:"jsx",code:d()(g())},{name:"Svelte",language:"html",code:d()(h())}],mdxType:"TabbedCodeExamples"}))}x.isMDXComponent=!0},NKps:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/error-handling",function(){return r("GiJq")}])}},[["NKps",0,2,5,1,3,4]]]);