_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{"7phq":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/local-state-caching",function(){return t("y2/u")}])},"y2/u":function(e,n,t){"use strict";t.r(n),t.d(n,"meta",(function(){return y})),t.d(n,"default",(function(){return R}));var r=t("wx14"),a=t("h4VS"),o=t("Ff2n"),i=t("q1tI"),m=t.n(i),s=t("7ljp"),l=t("B+lO"),u=t.n(l),c=t("5Yp1"),p=t("SrvX");t("qKvR"),m.a.createElement;function f(){var e=Object(a.a)([")\n\n          // ...\n      "],[")\\n\n          // ...\n      "]);return f=function(){return e},e}function b(){var e=Object(a.a)(["\n          import { page, remember } from '@inertiajs/inertia-svelte'\n\n          let form = remember({\n            first_name: null,\n            last_name: null,\n          }, "],["\n          import { page, remember } from '@inertiajs/inertia-svelte'\\n\n          let form = remember({\n            first_name: null,\n            last_name: null,\n          }, "]);return b=function(){return e},e}function d(){var e=Object(a.a)(["\n          )\n\n          // ...\n        }\n      "],["\n          )\\n\n          // ...\n        }\n      "]);return d=function(){return e},e}function h(){var e=Object(a.a)(["\n        import { useRememberedState } from '@inertiajs/inertia-react'\n        import React from 'react'\n\n        export default function Profile() {\n          const [formState, setFormState] = useRememberedState(\n            {\n              first_name: props.user.first_name,\n              last_name: props.user.last_name,\n              // ...\n            },\n            "],["\n        import { useRememberedState } from '@inertiajs/inertia-react'\n        import React from 'react'\\n\n        export default function Profile() {\n          const [formState, setFormState] = useRememberedState(\n            {\n              first_name: props.user.first_name,\n              last_name: props.user.last_name,\n              // ...\n            },\n            "]);return h=function(){return e},e}function j(){var e=Object(a.a)([",\n          },\n          data() {\n            return {\n              form: {\n                first_name: this.user.first_name,\n                last_name: this.user.last_name,\n                // ...\n              },\n            }\n          },\n        }\n      "]);return j=function(){return e},e}function _(){var e=Object(a.a)(["\n        {\n          remember: {\n            data: ['form'],\n            key: () =>"]);return _=function(){return e},e}function g(){var e=Object(a.a)(["\n        import { remember } from '@inertiajs/inertia-svelte'\n\n        let form = remember({\n          first_name: null,\n          last_name: null,\n        })\n\n        // ...\n      "],["\n        import { remember } from '@inertiajs/inertia-svelte'\\n\n        let form = remember({\n          first_name: null,\n          last_name: null,\n        })\\n\n        // ...\n      "]);return g=function(){return e},e}function O(){var e=Object(a.a)(["\n        import { useRememberedState } from '@inertiajs/inertia-react'\n        import React from 'react'\n\n        export default function Profile() {\n          const [formState, setFormState] = useRememberedState({\n            first_name: null,\n            last_name: null,\n            // ...\n          })\n\n          // ...\n        }\n      "],["\n        import { useRememberedState } from '@inertiajs/inertia-react'\n        import React from 'react'\\n\n        export default function Profile() {\n          const [formState, setFormState] = useRememberedState({\n            first_name: null,\n            last_name: null,\n            // ...\n          })\\n\n          // ...\n        }\n      "]);return O=function(){return e},e}function v(){var e=Object(a.a)(["\n        {\n          // Option 1: Object\n          remember: {\n            data: ['form'],\n          },\n\n          // Option 2: Array\n          remember: ['form'],\n\n          // Option 3: String\n          remember: 'form',\n\n          data() {\n            return {\n              form: {\n                first_name: null,\n                last_name: null,\n                // ...\n              },\n            }\n          },\n        }\n      "],["\n        {\n          // Option 1: Object\n          remember: {\n            data: ['form'],\n          },\\n\n          // Option 2: Array\n          remember: ['form'],\\n\n          // Option 3: String\n          remember: 'form',\\n\n          data() {\n            return {\n              form: {\n                first_name: null,\n                last_name: null,\n                // ...\n              },\n            }\n          },\n        }\n      "]);return v=function(){return e},e}var y={title:"Local state caching",links:[{url:"#top",name:"Introduction"},{url:"#remembering-local-state",name:"Remembering local state"},{url:"#multiple-components",name:"Multiple components"}]},S={meta:y},w=c.b;function R(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(s.b)(w,Object(r.a)({},S,t,{components:n,mdxType:"MDXLayout"}),Object(s.b)("h1",null,"Local state caching"),Object(s.b)("p",null,"When navigating browser history, Inertia reloads pages using prop data cached in history state. Inertia does not, however, cache local component state, since this is beyond its reach. This can lead to outdated pages in your browser history."),Object(s.b)("p",null,"For example, if a user partially completes a form, then navigates away, and then returns back, the form will be reset and their work will have been lost."),Object(s.b)("h2",null,"Remembering local state"),Object(s.b)("p",null,"To mitigate this issue, you can tell Inertia which local component state to cache in the browser history."),Object(s.b)(p.a,{examples:[{name:"Vue.js",description:'Use the "remember" property to cache local state.',language:"js",code:u()(v())},{name:"React",description:'Use the "useRememberedState" hook to cache local state.',language:"jsx",code:u()(O())},{name:"Svelte",description:'Use the "remember" store to cache local state.',language:"js",code:u()(g())}],mdxType:"TabbedCodeExamples"}),Object(s.b)("h2",null,"Multiple components"),Object(s.b)("p",null,"If your page contains multiple components using the remember functionality, you'll need to provide a unique key for each component. For example, ",Object(s.b)("inlineCode",{parentName:"p"},"Users/Create"),"."),Object(s.b)("p",null,"If you have multiple instances of the same component on the page, be sure to include a unique identifier for each of those instances. For example, ",Object(s.b)("inlineCode",{parentName:"p"},"Users/Edit:{id}"),"."),Object(s.b)(p.a,{examples:[{name:"Vue.js",language:"js",code:u()(_())+"`Users/Edit:${this.user.id}`"+u()(j())},{name:"React",language:"jsx",code:u()(h())+"`Users/Edit:${this.user.id}`"+u()(d())},{name:"Svelte",language:"js",code:u()(b())+"`Users/Edit:${$page.props.user.id}`"+u()(f())}],mdxType:"TabbedCodeExamples"}))}R.isMDXComponent=!0}},[["7phq",0,2,5,1,3,4]]]);